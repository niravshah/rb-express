var JwtPlugin={install:function(e,r){e.tokenValid=function(){var e=localStorage.getItem("token");return null!=e&&!this.isTokenExpired(e)},e.isTokenExpired=function(e,r){var t=this.getTokenExpirationDate(e);return r=r||0,null!=t&&!(t.valueOf()>(new Date).valueOf()+1e3*r)},e.getTokenExpirationDate=function(e){var r;if(!(r=this.decodeToken(e)).hasOwnProperty("exp"))return null;var t=new Date(0);return t.setUTCSeconds(r.exp),t},e.decodeToken=function(e){var r=e.split(".");if(3!==r.length)throw new Error("JWT must have 3 parts");var t=this.urlBase64Decode(r[1]);if(!t)throw new Error("Cannot decode the token");return JSON.parse(t)},e.urlBase64Decode=function(e){var r=e.replace(/-/g,"+").replace(/_/g,"/");switch(r.length%4){case 0:break;case 2:r+="==";break;case 3:r+="=";break;default:throw"Illegal base64url string!"}return this.b64DecodeUnicode(r)},e.b64decode=function(e){var r="";if((e=String(e).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t=0,n=void 0,o=void 0,a=0;o=e.charAt(a++);~o&&(n=t%4?64*n+o:o,t++%4)?r+=String.fromCharCode(255&n>>(-2*t&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return r},e.b64DecodeUnicode=function(e){return decodeURIComponent(Array.prototype.map.call(this.b64decode(e),function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))},e.isLoggedIn=function(){return this.tokenValid()},e.loggedInUser=function(){return localStorage.getItem("currentUser")},e.loggedInUserSid=function(){return JSON.parse(localStorage.getItem("currentUser")).sid},e.loggedInUserEmail=function(){return JSON.parse(localStorage.getItem("currentUser")).email},e.loggedInJwt=function(){return localStorage.getItem("token")}}};